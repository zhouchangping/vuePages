(self.webpackChunkvueWebpackCliDemo=self.webpackChunkvueWebpackCliDemo||[]).push([[547],{"./src/pages/loginUp/view/signup.vue":(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>i});var s=t("./node_modules/@babel/runtime-corejs3/core-js-stable/instance/trim.js"),n=t.n(s),r=t("./node_modules/@babel/runtime-corejs3/core-js-stable/promise.js"),o=t.n(r);const l={data:function(){return{username:"",password:"",repeatpass:"",fileList:[]}},created:function(){},methods:{fnSubmit:function(){var e,a=this;""==n()(e=this.username).call(e)?alert("请输入用户名！"):this.username.match(/[<'">]/g)?alert("请输入合法字符！"):a.$axios({url:"/api/signup",method:"POST",data:{avator:a.dataImage,name:a.username,password:a.password,repeatpass:a.repeatpass}}).then((function(e){var t=e.data;console.log(e),1==t.data?a.$toast("用户名存在"):2==t.data?a.$toast("请输入重复的密码"):3==t.data&&(a.$toast("注册成功"),a.$router.push("/singin"))})).catch((function(e){alert(e)}))},afterRead:function(e){return this.dataImage=e.content,!0},onOversize:function(e){console.log(e),that.$toast("文件大小不能超过 500kb")},beforeRead:function(e){return"image/jpeg"===e.type||(console.log(32434),that.$toast("请上传 jpg 格式图片"),!1)},asyncBeforeRead:function(e){return new(o())((function(a,t){"image/jpeg"!==e.type?(that.$toast("请上传 jpg 格式图片"),t()):a(new File(["foo"],"bar.jpg",{type:"image/jpeg"}))}))}},components:{}};const i=(0,t("./node_modules/vue-loader/lib/runtime/componentNormalizer.js").Z)(l,(function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",[t("van-form",{on:{submit:e.fnSubmit}},[t("van-field",{attrs:{name:"用户名",label:"用户名",placeholder:"用户名",rules:[{required:!0,message:"请填写用户名"}]},model:{value:e.username,callback:function(a){e.username=a},expression:"username"}}),e._v(" "),t("van-field",{attrs:{type:"password",name:"请输入密码",label:"请输入密码",placeholder:"请输入密码",rules:[{required:!0,message:"请填写密码"}]},model:{value:e.password,callback:function(a){e.password=a},expression:"password"}}),e._v(" "),t("van-field",{attrs:{type:"password",name:"请确认密码",label:"请确认密码",placeholder:"请确认密码",rules:[{required:!0,message:"请确认密码"}]},model:{value:e.repeatpass,callback:function(a){e.repeatpass=a},expression:"repeatpass"}}),e._v(" "),t("van-uploader",{attrs:{multiple:"","max-count":1,"before-read":e.beforeRead,"after-read":e.afterRead},model:{value:e.fileList,callback:function(a){e.fileList=a},expression:"fileList"}}),e._v(" "),t("div",{staticStyle:{margin:"16px"}},[t("van-button",{attrs:{round:"",size:"large",type:"info","native-type":"submit"}},[e._v("\n        注册\n      ")])],1)],1)],1)}),[],!1,null,"453ad428",null).exports}}]);